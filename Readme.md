## Metacare Microservice :rocket:

Hi there! My name is **Ilori Stephen Adejuwon** and as you already know, I am a Backend developer and I developed this amazing piece of software to defeat the interview challenge set-up by an amazing organization called **Metacare** :blush:.

Enogh playing around **Stephen**. Ahem! This is the documentation that shows you how this piece of amazing software works. **P.S.** This is a mini framework developed by me. :eyes:

### Folder Structure

We have several folders in this project and they all serve different purposes. The list below best explains the use of each folder.

1. **The App Folder:** This is where your development logic sits! This folder contains two extra sub-folders. The **Controllers folder** and the **models folder**. The **Controllers folder** as it's name implies hosts the **Base Controller** for re-usable logic and other **Controllers** which extends the **Base Controller**. Classical OOP!  The **Model folder** on the other hosts all of the database models required by the controllers and other modules. Luckily for us, We have just the **comments model and an index.js** which autoloads other models.
2. **The Bootstrap Folder:** Talk about a bootstrap in software development or OS terminologies. This folder hosts the one and only **Kernel.js** and this guy, loads in all the configs and components required to keep our microservice running.
3. **The Config Folder:** I bet at this point things are becoming to look very familiar. Yeah, I got the motivation to design this mini-framework off of **Laravel**. I hope **Taylor Ottwell** doesn't get to hear about this and I certainly hope I spelt his name right too. This folder basically loads in all the configurations defined in our application **.env file** which is declared in the root of our microservice with.
4.  **The Database Folder:** This is a no-brainer. As it's name implies, all our **database migrations** and **seeders** sits in this folder. And this is auto-generated by **Sequelize**. What would I have done without you?
5. **The Docker Folder:** I created this folder to host all of my dockerfiles and conf files required in building my own docker images. Yeah, I do some dev-ops too on a small scale.
6. **The Routes Folder:** This folder hosts just one file. An **api.js** which is responsible for **lazy loading** all of the controllers required by the routes defined in the file. I hope this isn't overkill.
7. **The Utils Folder:** This folder hosts other files which contains re-usable functions we could use in our controllers, models, or other critical places. This is so we don't have a bloated file.

## Installation Guide

To run this project, You actually need to have docker installed and some internet connection. So, once you've finally installed docker and you're connected to the internet, You could do the following to get started.

1. **Fork or Clone this Github Repo**
2. **Open up your terminal and Cd into the project directory**
3. **Create a new .env file in the root directory of the project and fill it up with the values below**

```sh
APP_NAME=Metacare
APP_ENV=development
APP_URL=http://127.0.0.1:8000/
APP_PORT=8000
APP_TIMEZONE=Africa/Lagos
APP_SECRET_KEY=svoerrrger/+376wdxxjhdcs67czc320320992wseiu26361243ad

CLIENT_URL=http://127.0.0.1:8080/

LOG_CHANNEL=file

DB_CONNECTION=Mysql
DB_HOST=metacare_database
DB_PORT=3306
DB_DATABASE=metacare_database
DB_USERNAME=root
DB_PASSWORD=metacare_db_password
DB_URL=mysql://root:metacare_db_password@metacare_database:3306/metacare_database

MAIL_MAILER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=128481498ab1cb
MAIL_PASSWORD=657e8d6a6db0d5
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=info@metacare.com
MAIL_FROM_NAME="${APP_NAME}"

API_SECRET=asklasd09e22mRjHuarXdRsIF/+127234874382AJDilksdiosdfciod_adolsi
API_PUBLIC=djkasdkjasdjkasd348938948934r/329023dasjdasiudaosdiasd_adolsi

```
4. **Once the .env file has been created, You can run the command below to get started. P.S. You might want to grab a cup of coffee though. If you internet connection isn't as fast.**

```sh
  $ docker-compose build

  $ docker-compose up
```

5. **You'd get a lot of data in your terminal as the process from step 4 runs and you know it's okay when you see**

``` sh
Metacare is running on http://127.0.0.1:8000/
Executing (default): SELECT 1+1 AS result
Connection has been established successfully.
Executing (default): SELECT 1+1 AS result
Database & tables synced successfully!

```

### Bug Fixes & Troubleshooting

If you followed the steps above correctly and you're having some issues, You might want to run your **docker-compose** in **sudo mode** if you're on a **Mac or Linux**. I hope this helps and I sincerely hope you're not having any issues!

#### Conclusion

Once again my name is **Ilori Stephen** and you can email me at **stephenilori458@gmail.com**. My twitter handle is **@harryWonder** or **_harryWonder**. I keep forgetting which is it. I'm not much of a social person but there's room for improvement and I hope to be a part of the amazing team at **Metacare** :heart: